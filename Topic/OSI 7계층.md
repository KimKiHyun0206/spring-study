# OSI 7계층

네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것

<br>

## 나눈 이유

> **통신이 일어나는 과정을 단계별로 파악하기 위함**

* 흐름을 한 눈에 알아보기 쉽다.
* 사람이 이해하기 쉽다
* 7곳 중 한 곳에 문제가 생기면 그 한 곳만 고치면 되기 때문이다
    * 이때 다른 단계의 장비 및 소프트웨어를 건드리지 않아도 된다

### 계층별 장비

| 계층  |    장비명    |
|:---:|:---------:|
|  1  |  리피터, 허브  |
|  2  | 브릿지 , 스위치 |
|  3  |    라우터    |
|  4  |   게이트웨이   |
|  5  |     X     |
|  6  |     X     |
|  7  |     X     |

# 계층 단계

<div style="text-align: center">

![img.png](img/OSI%207%20Layer.png)

</div>

# 1 계층, 물리 계층 - Physical Layer

> **주로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송한다**

* 데이터를 전달할 뿐 `수신` | `발신`하는 **데이터에 대한 것은 전혀 신경쓰지 않는다**
    * 오류가 있더라도 신경 쓰지 않는다
* `통신 단위` : 비트 - 0 and 1
* `장비` : 통신 케이블, 리피터, 허브 etc

<br>

# 2 계층, 데이터 링크 계층 - DataLink Layer

> 물리 계층을 통해 송수신되는 정보의 오류와 흐름을 관리하려 **안전한 정보의 전달**을 수행할 수 있도록 하는 역할

* 오류 찾기 | 재전송 기능
* **MAC 주소로 통신한다**
* `통신 단위` : 프레임
* `장비` : 브리지, 스위치

<br>

* Point to Point 간 신뢰성 있는 전송을 보장하기 위한 계층
* CRC 기반의 오류 제어와 흐름 제어가 필요하다
    * CRC, Cyclic Redundancy Check : 순환 중복 검사

<br>

# 3 계층, 네트워크 계층 - Network Layer

> **데이터를 목적지까지 가장 안전하기 빠르게 전달한다**

* 경로를 선택하고 주소를 정하고 경로에 따라 패킷을 전달하는 것이 이 계층의 역할
* `주소` : IP
* `장비` : 라우터, L3 스위치(스위치에 라우팅 기능을 장착한 것)

<br>

* 여러 개의 노드를 거칠 때마다 경로를 찾아주는 계층
* 다양한 길이의 데이터를 네트워크들을 통해 전달한다.
* 이 과정에서 전송 계층이 요구하는 서비스 품질을 제공하기 위한 기능적, 절차적 수단을 제공한다

<br>

<details>
<summary>IP 계층</summary>
<div markdown="1">

> IP 패킷의 전달 및 라우팅을 담당하는 계층
* 패킷을 목적지까지 전달하는 역할 및 그에 수반되는 기타 역할만 한다
  * 이는 OSI 7계층 관점에서 네트워크 계층에 해당
* 주요 역할 : 하위 계층인 데이터링크 계층의 하드웨어적인 특성에 관계 없이 독립적인 역할 수행
* 주요 프로토콜
  * 패킷의 전달은 책임지는 IP
  * 패킷 전달 에러의 보고 및 진단을 위한 ICMP
  * 복잡한 네트워크에서 인터네트워킹을 위한 경로를 찾게 해주는 라우팅 프로토콜

</div>
</details>


<details>
<summary>IP 프로토콜</summary>
<div markdown="1">

> TCP/IP 기반의 인터넷 망을 통하여 데이터그램의 전달을 담당하는 프로토콜

#### 주요 기능
* Routing : IP 계층에서 IP 패킷의 라우팅 대상이 됨
* Addressing : IP 주소 지정

#### 주요 특징
* `Best-Effort Service`: 신뢰성, 흐름제어 기능이 전혀 없음
  * 신뢰성 확보를 위해서는 상위 트랜스포트 계층에 의존해야 한다
* `Connectionless` : 비연결성 데이터그램 방식으로 전달되는 프로토콜
* IP 패킷 헤더 내 수신 및 발신 주소를 포함 - IPv4 헤더, IPv6 헤더
* IP 헤더 내 바이트 전당 순서 : 취상위 바이트를 먼저 보낸다 - Big-endian
* IP 단편화 : 경우에 따라 단편화 필요
* TCP, UDP, ICMP, IGMP 등이 IP 데이터그램에 실려서 전송

</div>
</details>

# 4 계층, 전송 계층 - Transport Layer

> **통신을 활성화하기 위한 계층**

* 보통 TCP 프로토콜을 사용한다
* 포트를 열어서 응용 프로그램들이 전송할 수 있게 해준다
* 데이터가 왔다면 4계층에서 해당 데이터를 하나로 합쳐서 5계층에 전달한다

<br>

* End to End(단대단) 사용자들이 신뢰성 있는 데이터를 주고 받을 수 있게 한다
* 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 해준다
* `오류 제어 방식` : 시퀸스 넘버 기반
* `Stateful` | `Connection Oriented`
* 전송 계층이 패킷들의 전송이 유효한지 확인하고 전송 실패한 패킷들을 다시 전송한다는 것

<br>

<details>
<summary>TCP 프로토콜</summary>
<div markdown="1">

### Transmission Control Protocol

* OSI 계층 모델 관점에서 4계층에 해당한다
* 신뢰적인 연결지향성 서비스 제공
    * 신뢰적인 전송을 보장함으로써, 어플리케이션 구성이 쉬워짐

#### 신뢰성 있음, Reliable

* 패킷 손실, 중복, 순서 바뀜 등이 없도록 한다
* TCP 하위 계층인 IP 계층의 신뢰성 없는 서비스에 대해 신뢰성을 제공한다

#### 연결 지향적, Connection-Oriented

* 같은 전송 계층의 UCP가 비연결성인 것과 달리 TCP는 연결지향적이다
* 연결 관리를 위한 연결 설정 및 연결 해제 필요
    * TCP 연결 설정, TCP 연결 종료
* 양단간 어플리케이션 | 프로세스는 TCP가 제공하는 연결성 회선을 통하여 서로 통신

</div>
</details>


<details>
<summary>UDP 프로토콜</summary>
<div markdown="1">

### User Datagram Protocol

* 전송 계층의 통신 프로토콜의 하나
    * 신뢰성 보장 X
    * 가상회선 확립 필요 X
    * 유연하며 효율적 응용 데이터 전송에 사용

#### 비연결성이고, 신뢰성이 없으며, 순서화되지 않은 Datagram Service 제공

* `확인응답 없음` : 메시지가 제데로 도착했느닞 확인 X
* `순서제어 없음` : 수신된 메시지의 순서를 맞추지 않음
* `흐름제어 없음` : 흐름 제어를 위한 피드백 제공 X
* `오류제어 거의 없음` : 검사합을 제외한 특별한 오류 검출 및 제어 X
    * UDP를 사용하는 프로그램 쪽에서 오류 제어 기능을 갖춰야 한다
* `논리적인 가상회선 연결 필요 없음` : 데이터그램 지향의 전송계층용 프로토콜
    * 비연결 접속 삭태 하에서 통신

#### 실시간 응용 및 멀티캐스팅 가능

* 빠른 요청과 응답이 필요한 실시간 응용에 적합
* 여러 다수 지점에 전송 가능

#### 헤더가 단순하다

* UDP는 TCP 처럼 16비트의 포트 번호를 사용한다
* 헤더의 고정크기의 8바이트만 사용한다
    * TCP는 20 바이트 사용
* 헤더 처리에 많은 시간과 노력을 요하지 않는다

</div>
</details>

# 5 계층, 세션 계층 - Session Layer

> **데이터가 통신하기 위한 논리적인 연결**

* **응용 프로그램 관점에서 봐야 한다**
* `기능` : 세션 설정 | 유지 | 종료, 전송 중단 시 복구
* 양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공
    * `Duplex` | `Half-Duplex` | `Full Duplex`
* 이 계층은 TCP/IP 세션을 만들고 없애는 책임을 진다

<br>

# 6 계층, 표현 계층 - Presentation Layer

> **데이터 표현이 상이한 응용 프로세스의 독립성을 제공하고, 암호화 한다**

* 코드 간의 번역을 담당하여 사용자 시스템에서 데이터 형식상 차이를 다루는 부담을 응용 계층으로 덜어준다
* MIME 인코딩이나 함호화 등이 이 계층에서 이루어진다

```
사용자의 명령어를 완성 및 결과 표현

포장 | 압축 | 암호화
```

<br>

# 7 계층, 응용 계층 - Application Layer

> **최종 목적지로서 다양한 프로토콜이 있다**

* 통신 패킷들은 프로토콜에 의해 처리된다.
* 응용 프로그램은 프로토콜을 쉽게 사용해주게 한다.
* `응용 프로그램` : 브라우저, 메일 프로그램
* 모든 통신의 양 끝단은 HTTP와 같은 프로토콜이다.

<br>

* 응용 계층은 응용 프로세스와 직접 관계하여 일반적인 **응용 서비스를 수행**한다
* 일반적인 응용 서비스는 관련된 응용 프로세스들 사이의 전환을 제공한다

```
네트워크 소프트웨어 UI 부분
사용자의 입출력 부분
```

<details>
<summary>HTTP 프로토콜</summary>
<div markdown="1">

### HyperText Transfer Protocol

웹 상에서 웹 서버 및 웹 프라우저 상호 간의 데이터 전송을 위한 응용 계층 프로토콜

#### 요청 및 응답의 구조

* 클라이언트 / 서버 모델로 동작

#### 메시지 교환 형태의 프로토콜

* 플라이언트와 서버 간의 HTTP 메시지를 주고 받으며 통신
* HTTP의 응답 및 요청 메시지 구성

#### 트랜잭션 중심의 비연결성 프로토콜

* Connectionless : 종단간의 연결이 없음
* Stateless : 이전의 상태를 유지하지 않음

#### 전송 계층 프로토콜 및 사용 포트 번호

* 전송 계층 프로토콜 : TCP
* 사용 포트 번호 : 80

#### HTTP 표준

* HTTP 1.0
* HTTP 1.1

</div>
</details>


<details>
<summary></summary>
<div markdown="1">

</div>
</details>
